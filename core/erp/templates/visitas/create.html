{% extends 'form.html' %}
{% load static %}
{% block head_form %}
    <script src="{% static 'visitas/js/form.js' %}"></script>
    <link href="{% static 'lib/select/css/select2.min.css' %}" rel="stylesheet"/>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">

    <link href="{% static 'lib/select/css/select2-bootstrap4.min.css' %}" rel="stylesheet"/>
    <script src="{% static 'lib/select/js/select2.min.js' %}"></script>
    <script src="{% static 'lib/select/js/i18n/es.js' %}"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

{% endblock head_form %}
{% block form %}
    <div class="row">
        <div class="card col-sm-6">
            <div class="card-header " id="header-title">
                <h6>Datos del visitante</h6>
            </div>
            <div class="card-body">
                
                {{form.user}}
                <label for="id_estado">{{form.estado.label}}</label>
                {{form.estado}}
                <label for="id_tipo_documento">{{form.tipo_documento.label}}</label>
                {{form.tipo_documento}}
                <label for="id_dni">{{form.dni.label}}</label>
                {{form.dni}}
                <div class="row">
                    <div class="col-12 col-md-4 mb-2 mb-md-0">
                        <label for="id_nombre" class="w-100">
                            {{ form.nombre.label }}
                            {{ form.nombre }}
                        </label>
                    </div>
                    <div class="col-12 col-md-6 mb-2 mb-md-0">
                        <label for="id_apellidos" class="w-100">
                            {{ form.apellidos.label }}
                            {{ form.apellidos }}
                        </label>
                    </div>
                    <div class="col-12 col-md-2 d-flex align-items-end">
                        <label >
                            <label></label>
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                Buscar
                            </button>
                        </label>
                    </div>
                </div>
                
                <label for="id_p_visita">{{form.p_visita.label}}</label>
                {{form.p_visita}}
                <label for="id_motivo">{{form.motivo.label}}</label>
                {{form.motivo}}
                <div class="row">
                    <div class="col-12 col-md-4 mb-2 mb-md-0">
                        <label for="id_documento_empresa" class="w-100">
                            {{form.documento_empresa.label}}
                            {{form.documento_empresa}}
                        </label>
                    </div>
                    <div class="col-12 col-md-6 mb-2 mb-md-0">
                        <label for="id_empresa" class="w-100">
                            {{form.empresa.label}}
                            {{form.empresa}}
                        </label>
                    </div>
                    <div class="col-12 col-md-2 d-flex-align-items-end">
                        <label>
                            <label ></label>
                            <input type="button" name="search" id="search_documento_empresa" class="form-control bg-success" value="Buscar">
                        </label>
                    </div>
                </div>
                <label for="id_cargo">{{form.cargo.label}}</label>
                {{form.cargo}}
                <label for="id_sctr_salud">{{form.sctr_salud.label}}</label>
                {{form.sctr_salud}}
                
            </div>
            <div class="card-footer">
                
            </div>
        </div>
        <div class="card col-sm-6">
            <div class="card-header " id="header-title">
                <h6>Mas Datos</h6>
            </div>
            <div class="card-body">
                <label for="id_fecha">{{form.fecha.label}}</label>
                {{form.fecha}}
                <label for="id_h_inicio">{{form.h_inicio.label}}</label>
                {{form.h_inicio}}
                {{form.h_llegada}}
                <label for="id_h_termino">{{form.h_termino.label}}</label>
                {{form.h_termino}}
                <label for="id_sala">{{form.sala.label}}</label>
                {{form.sala}}
                <!-- <label for="id_tipo">{{form.tipo.label}}</label> -->
                {{form.tipo}}
                <label for="id_v_marca">{{form.v_marca.label}}</label>
                {{form.v_marca}}
                <label for="id_v_modelo">{{form.v_modelo.label}}</label>
                {{form.v_modelo}}
                <label for="id_v_placa">{{form.v_placa.label}}</label>
                {{form.v_placa}}
                <label for="id_fv_soat">{{form.fv_soat.label}}</label>
                {{form.fv_soat}}
                <label for="id_strc_salud">{{form.strc_salud.label}}</label>
                {{form.strc_salud}}
                <label for="id_n_parqueo">{{form.n_parqueo.label}}</label>
                {{form.n_parqueo}}
              
            </div>
            <div class="card-footer">
    
            </div>
        </div>
    </div>
    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div>
{% endblock %}
{% block javascript %}
    <script>
        $('#id_user').val('{{request.user}}')
        $(function(){
            $('.select2').select2({
                theme:'bootstrap4',
                languaje:'es'
            });
        });
        flatpickr("#id_fecha", {
            minDate:"today",
            enableTime: false,
            dateFormat: "Y-m-d", 
            locale: {
                firstDayOfWeek: 1, 
                weekdays: {
                    shorthand: ['Dom', 'Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb'],
                    longhand: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                },
                months: {
                    shorthand: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    longhand: [
                        'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                        'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre',
                    ],
                },
            }
        });
    </script>
{% endblock javascript %}